(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"Phonebook_form__R_DfE",button:"Phonebook_button__1LZY7",label:"Phonebook_label__tJy8B",input:"Phonebook_input__3jnc7"}},23:function(t,e,n){t.exports={App:"App_App__3wguf",appear:"App_appear__33cE-",appearActive:"App_appearActive__C5_uC",notif:"App_notif__1YOBg"}},27:function(t,e,n){t.exports={input:"Filter_input__2tt4B",container:"Filter_container__2UqPL"}},28:function(t,e,n){t.exports={div:"Alert_div__3LpEm",h1:"Alert_h1__Qf5_D"}},43:function(t,e,n){},44:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(7),s=n.n(c),r=(n(43),n(12)),o=n(13),i=n(15),u=n(14),l=n(23),b=n.n(l),p=(n(44),n(9)),j=n.n(p),h=n(8),d=n(69),f=n(68),m=n(18),O=n.n(m),_=n(2),x=Object(_.b)("fetchStart"),v=Object(_.b)("fetchSuccess"),g=Object(_.b)("fetchError"),C=Object(_.b)("addStart"),N=Object(_.b)("addSuccess"),y=Object(_.b)("addError"),k=Object(_.b)("deleteStart"),A=Object(_.b)("deleteSuccess"),L=Object(_.b)("deleteError"),w=Object(_.b)("filterList");O.a.defaults.baseURL="http://localhost:4000";var S=n(21),E=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},P=Object(S.a)([E,F],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),V=n(1),D=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"render",value:function(){var t=this;return Object(V.jsx)("div",{className:j.a.div,children:Object(V.jsx)(d.a,{component:"ul",className:j.a.ul,children:this.props.contacts.map((function(e){return Object(V.jsx)(f.a,{classNames:j.a,timeout:250,children:Object(V.jsxs)("li",{className:j.a.li,id:e.id,children:[Object(V.jsxs)("span",{children:[Object(V.jsx)("span",{className:j.a.span,children:e.name}),Object(V.jsx)("span",{className:j.a.span2,children:e.number})]}),Object(V.jsx)("button",{className:j.a.button,type:"submit",onClick:function(){return t.props.deleteList(e.id)},children:"Delete"})]},e.id)},e.id)}))})})}}]),n}(a.Component),T={deleteList:function(t){return function(e){e(k()),O.a.delete("/contacts/".concat(t)).then((function(){return e(A(t))})).catch((function(t){return e(L(t))}))}},fetchList:function(){return function(t){t(x()),O.a.get("/contacts/").then((function(e){return t(v(e.data))})).catch((function(e){return t(g(e))}))}}},B=Object(h.b)((function(t){return{contacts:P(t)}}),T)(D),U=n(10),J=n.n(U),Q=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={text:"",number:""},t.phonebookValue=function(e){return t.setState({text:e.target.value})},t.numberValue=function(e){return t.setState({number:e.target.value})},t.btnClick=function(e){e.preventDefault(),t.props.phonebookValue(t.state.text,t.state.number),t.setState({text:"",number:""})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.text,n=t.number;return Object(V.jsxs)("form",{className:J.a.form,onSubmit:this.btnClick,children:[Object(V.jsxs)("label",{className:J.a.label,children:["Name",Object(V.jsx)("input",{className:J.a.input,type:"text",value:e,placeholder:"Enter name",onChange:this.phonebookValue})]}),Object(V.jsxs)("label",{className:J.a.label,children:["Number",Object(V.jsx)("input",{className:J.a.input,type:"number",max:"9999999999",value:n,placeholder:"Enter phone number",onChange:this.numberValue})]}),Object(V.jsx)("br",{}),Object(V.jsx)("button",{type:"submit",className:J.a.button,children:"Add contact"})]})}}]),n}(a.Component),q=n(27),G=n.n(q),I={changeFilter:w},R=Object(h.b)((function(t){return{filter:F(t)}}),I)((function(t){var e=t.filter,n=t.changeFilter;return Object(V.jsx)("div",{className:G.a.container,children:Object(V.jsxs)("label",{children:["Find contacts by name ",Object(V.jsx)("br",{}),Object(V.jsx)("input",{value:e,className:G.a.input,type:"text",placeholder:"Enter filter",onChange:function(t){return n(t.target.value)}})]})})})),Y=n(28),z=n.n(Y);function K(t){var e=t.massage;return Object(V.jsx)("div",{className:z.a.div,children:Object(V.jsx)("h3",{className:z.a.h1,children:e})})}var M,Z=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={text:"",text2:"",message:!1,message2:!1},t.phonebookValue=function(e,n){""!==e&&""!==n&&!1===t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(e.toLowerCase())?t.props.onAddList(e,n):(t.setState({message2:!0,text2:"Fill in all the fields"}),setTimeout((function(){t.setState({message2:!1,text2:""})}),3e3)),t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(e.toLowerCase())&&t.setState({text:e})},t}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this,a=this.state,c=a.text;if(!a.message&&this.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(c.toLowerCase())&&""!==c)return this.setState({message:!0,text2:"Contact already exists!"}),void setTimeout((function(){n.setState({message:!1,text:"",text2:""})}),3e3)}},{key:"render",value:function(){return Object(V.jsxs)("div",{className:b.a.App,children:[Object(V.jsxs)("div",{className:b.a.notif,children:[Object(V.jsx)(f.a,{in:!0,appear:!0,classNames:b.a,timeout:500,unmountOnExit:!0,children:Object(V.jsx)("h1",{children:"Phonebook"})}),Object(V.jsx)("div",{className:"alert",children:Object(V.jsx)(f.a,{in:this.state.message||this.state.message2,classNames:"alert",timeout:250,unmountOnExit:!0,children:Object(V.jsx)(K,{massage:this.state.text2})})})]}),Object(V.jsx)(Q,{phonebookValue:this.phonebookValue}),Object(V.jsx)(f.a,{in:this.props.contacts.length>1,classNames:"filter",timeout:250,unmountOnExit:!0,children:Object(V.jsx)(R,{})}),Object(V.jsx)(B,{})]})}}]),n}(a.Component),H={onAddList:function(t,e){return function(n){var a={name:t,number:e};n(C()),O.a.post("/contacts",a).then((function(t){return n(N(t.data))})).catch((function(t){return n(y(t))}))}}},W=Object(h.b)((function(t){return{contacts:E(t)}}),H)(Z),X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),s(t),r(t)}))},$=n(22),tt=n(19),et=n(3),nt=Object(_.c)([],(M={},Object(tt.a)(M,v,(function(t,e){return e.payload})),Object(tt.a)(M,N,(function(t,e){var n=e.payload;return[].concat(Object($.a)(t),[n])})),Object(tt.a)(M,A,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),M)),at=Object(_.c)("",Object(tt.a)({},w,(function(t,e){return e.payload}))),ct=Object(et.b)({items:nt,filter:at}),st=n(11),rt=Object($.a)(Object(_.d)({serializableCheck:{ignoredActions:[st.a,st.f,st.b,st.c,st.d,st.e]}})),ot=Object(_.a)({reducer:{contacts:ct},middleware:rt});s.a.render(Object(V.jsx)(h.a,{store:ot,children:Object(V.jsx)(W,{})}),document.getElementById("root")),X()},9:function(t,e,n){t.exports={ul:"Contacts_ul__1Uh7N",li:"Contacts_li__2a9Dw",div:"Contacts_div__1fd90",button:"Contacts_button__hTE6j",enter:"Contacts_enter__1TUCq",enterActive:"Contacts_enterActive__274Qy",exit:"Contacts_exit__2VF01",exitActive:"Contacts_exitActive__2QGAm",span2:"Contacts_span2__-rgGP",span:"Contacts_span__3yJ0K"}}},[[67,1,2]]]);
//# sourceMappingURL=main.c64cb7f4.chunk.js.map